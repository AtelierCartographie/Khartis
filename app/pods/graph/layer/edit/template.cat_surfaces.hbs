<div class="edit-layer vertical flow">

  <div class="title">{{x-capitalize (t 'visualization.title.choose')}}</div>

  <div class="body solid">
    <ul class="collection">
      <li class="layer">
        <div class="horizontal flow clickable" {{action 'navigateTo' 'graph.layer'}}>
          <div class="caption">
            {{visualization-icon mapping=editedLayer.mapping small=false}}
          </div>
          <div class="vertical stretched middle flow padded-h content">
            {{visualization-title class="title" mapping=editedLayer.mapping}}
          </div>
        </div>
      </li>
    </ul>

    <div class="title choose-var-setting">{{x-capitalize (t 'visualization.title.chooseVar')}}</div>
    <div class="body">
      <div class="settings vertical flow choose-var-setting">
        {{mapping-var-selector variables=model.data.columns mapping=editedLayer.mapping}}
      </div>
    </div>

    {{#if editedLayer.mapping.isBoundToVar}}
      {{mapping-settings/cat-surfaces 
        mapping=editedLayer.mapping 
        bind=(action 'bind')
      }}
    {{/if}} {{! boundToVar }}

  </div>
</div>  