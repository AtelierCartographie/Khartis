<aside class="solid airy vertical flow padded">
    <div class="small panel">
        <header class="filled primary">
            <div class="title">Mise en page</div>
            <div class="actions"></div>
        </header>
        <div class="vertical airy flow padded-v filled">
            <div class="horizontal airy middle flow">
                <div class="horizontal middle flow">
                    <label class="horizontal right flow w3 padded-r text-right">W</label>
                    {{input value=model.graphLayout.width focus-out=(action 'onAskVersioning' 'freeze')}}
                    <small class="padded">px</small>
                </div>
                <div class="horizontal middle flow">
                    <label class="horizontal right flow w3 padded-r text-right">H</label>
                    {{input value=model.graphLayout.height focus-out=(action 'onAskVersioning' 'freeze')}}
                    <small class="padded">px</small>
                </div>
            </div>
        </div>
    </div>
    <div class="small panel">
        <header class="filled primary">
            <div class="title">Projection</div>
            <div class="actions"></div>
        </header>
        <div class="vertical airy flow padded-v filled">
            <div class="horizontal airy middle flow">
                <div class="horizontal middle flow">
                    {{#x-select value=model.graphLayout.projection action="projectionChange"}}
                      {{#each-in availableProjections as |id desc|}}
                      {{#x-option value=id}}{{desc.name}}{{/x-option}}
                      {{/each-in}}
                    {{/x-select}}
                </div>
            </div>
        </div>
    </div>
    <div class="small panel layers-panel">
        <header class="filled primary">
            <div class="title">Variables représentées</div>
            <div class="actions"></div>
        </header>
        <div class="vertical airy flow padded-v filled">
          {{#each model.graphLayers as |layer|}}
            <div>
              <div class="horizontal space-between flow layer-header">
                <span>{{layer.varCol.header.value}}</span>
                <div class="solid w1 text-right">
                  <a {{action 'removeLayer' layer}}><i class="iconfont iconfont-close"></i></a>
                </div>
              </div>
              {{#if layer.canBeSurface}}
              <div>
                  Type de représentation : 
                  {{#x-dropdown.x-trigger
                    dropdownPivot="top left"
                    triggerPivot="bottom left"}}
                    <a class="dropdown-trigger">
                      {{#unless layer.type}}
                      Choisir
                      {{else}}
                      {{t (concat "variable.representation.type." layer.type)}}
                      {{/unless}}
                    </a>
                  {{/x-dropdown.x-trigger}}
                  <ul class="dropdown">
                    <li {{action 'bindLayerType' layer 'shape'}}>{{t 'variable.representation.type.shape'}}</li>
                    <li {{action 'bindLayerType' layer 'surface'}}>{{t 'variable.representation.type.surface'}}</li>
                  </ul>
              </div>
              {{/if}}
              {{#if layer.isOfTypeShape}}
              <div>
                Dégradé de :
                {{#x-dropdown.x-trigger
                  dropdownPivot="top left"
                  triggerPivot="bottom left"}}
                  <a class="dropdown-trigger">
                    {{t (concat "variable.representation.scaleOf." layer.representation.scaleOf)}}
                  </a>
                {{/x-dropdown.x-trigger}}
                <ul class="dropdown">
                  <li {{action 'bindLayerScaleOf' layer 'size'}}>{{t 'variable.representation.scaleOf.size'}}</li>
                  <li {{action 'bindLayerScaleOf' layer 'fill'}}>{{t 'variable.representation.scaleOf.fill'}}</li>
                </ul>
              </div>
              {{/if}}
            </div>
          {{/each}}
          <div class="fluid text-center">
            {{#x-dropdown.x-trigger
              dropdownPivot="top left"
              triggerPivot="bottom left"}}
              <a class="dropdown-trigger">
                Afficher une variable
              </a>
            {{/x-dropdown.x-trigger}}
            <ul class="dropdown">
              {{#each model.data.columns as |col|}}
                <li {{action 'addLayer' col}}>{{col.header.value}}</li>
              {{/each}}
            </ul>
          </div>
        </div>
    </div>
    <!--<div class="small panel">
        <header class="filled primary">
            <div class="title">Contenu</div>
            <div class="actions"><b>-</b></div>
        </header>
        <div class="vertical airy flow filled">
            <div class="vertical middle flow">
                <label class="horizontal flow">Contenu de l'article</label>
                <textarea/>
            </div>
            <div class="horizontal airy middle center flow">
                <label class="horizontal right solid flow text-right">Oui ?</label>
                <span><input type="radio" name="group1"/><i class="-h"></i></span>
                <label class="horizontal right solid flow text-right">Non ?</label>
                <span><input type="radio" name="group1"/><i class="-h"></i></span>
            </div>
            <div class="horizontal airy middle center flow">
                <label class="horizontal right solid flow text-right">Validé ?</label>
                <span><input type="checkbox"/><i class="-h"></i></span>
            </div>
        </div>
    </div>-->
</aside>