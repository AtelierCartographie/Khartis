<div class="navheader">
  {{#x-button class="default btn-prev" invisible=(x-not model.project.report) action=(action 'back')}}
    <i class="iconfont iconfont-long-arrow-left"></i> {{t "general.Back"}}
  {{/x-button}}
  {{#x-button class="primary btn-next" invisible=(x-not hasGeoColumns) action=(action 'next')}}
    {{t "general.chooseMap"}} <i class="iconfont iconfont-long-arrow-right"></i>
  {{/x-button}}
</div>
<div class="report">
    <h1>{{t "import.qualifyData"}}</h1>

    <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. A amet at cum magni nostrum, odit quam sed? Autem et
        fugit, ipsum placeat rem ullam vero?
    </p>

    <div class="report-message">
    {{#unless hasGeoColumns}}
      <i class="iconfont iconfont-times-circle text-danger"></i> {{t "error.noGeoColumn"}}
    {{/unless}}
    </div>

    <div class="horizontal padded flow">
        <div class="fluid">
          <ul class="column-list">
            {{#each model.project.data.columns as |col|}}
              <li class="{{if (x-eq selectedColumn col) 'selected'}}" {{action 'selectColumn' col}}>
                  <span class="label">{{col.header.value}}</span>
                  <div class="column-actions">
                      <span>{{data-type-icon meta=col.meta inconsistency=col.inconsistency}}</span>
                      <span class="caret"><i class="iconfont iconfont-angle-right"></i></span>
                  </div>
              </li>
            {{/each}}
          </ul>
        </div>
        {{#if selectedColumn}}
        <div class="solid w6 column-configuration">
          <div class="vertical padded airy middle flow">
            <div class="column-type horizontal airy center middle solid flow">
              <div><b>{{x-capitalize (t "general.dataType")}} : </b></div>
              <div>
                {{#x-dropdown.x-trigger
                  dropdownPivot="top left"
                  triggerPivot="bottom left"}}
                  <a class="dropdown-trigger">
                    {{t (concat "variable.meta.type." selectedColumn.meta.type)}}
                    <i class="iconfont iconfont-angle-down"></i>
                  </a>
                {{/x-dropdown.x-trigger}}
                <ul class="dropdown">
                  <li {{action 'bindColumnType' selectedColumn 'numeric'}}>{{t 'variable.meta.type.numeric'}}</li>
                  <li {{action 'bindColumnType' selectedColumn 'text'}}>{{t 'variable.meta.type.text'}}</li>
                  <li {{action 'bindColumnType' selectedColumn 'lat'}}>{{t 'variable.meta.type.lat'}}</li>
                  <li {{action 'bindColumnType' selectedColumn 'lon'}}>{{t 'variable.meta.type.lon'}}</li>
                  <li {{action 'bindColumnType' selectedColumn null}}>{{t 'variable.meta.type.auto'}}</li>
                </ul>
             </div>
            </div>
            {{#if displayWarningForType}}
            <div class="solid padded">
              <div class="padded filled warning">
                <i class="iconfont iconfont-warning"></i>
                {{t "warning.typeCoherency"}}
              </div>
            </div>
            {{else}}
            <div class="solid padded">
              <div class="padded filled success">
                <i class="iconfont iconfont-check-circle"></i>
                {{t "success.typeCoherency"}}
              </div>
            </div>
            {{/if}}
            <div class="horizontal center solid flow">
              {{#x-button class="default" action=(action 'removeColumn' selectedColumn)}}
                <i class="iconfont iconfont-close"></i> Supprimer cette colonne
              {{/x-button}}
            </div>
          </div>
        </div>
        {{/if}}
    </div>
</div>
