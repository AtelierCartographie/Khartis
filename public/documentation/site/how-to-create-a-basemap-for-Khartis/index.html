



<!DOCTYPE html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation de Khartis, outil de cartographie thématique">
      
      
        <link rel="canonical" href="http://www.sciencespo.fr/cartographie/khartis/docs/how-to-create-a-basemap-for-Khartis/">
      
      
        <meta name="author" content="Sciences Po - Atelier de cartographie">
      
      
        <meta name="lang:clipboard.copy" content="Copier dans le presse-papier">
      
        <meta name="lang:clipboard.copied" content="Copié dans le presse-papier">
      
        <meta name="lang:search.language" content="fr">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="Aucun document trouvé">
      
        <meta name="lang:search.result.one" content="1 document trouvé">
      
        <meta name="lang:search.result.other" content="# documents trouvés">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.0.4">
    
    
      
        <title>Add a basemap - Khartis Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.451f80e5.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.22915126.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="" data-md-color-accent="light-blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../#tools-suggested" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://www.sciencespo.fr/cartographie/khartis/docs" title="Khartis Documentation" class="md-header-nav__button md-logo">
          
            <img src="../assets/Khartis-logo.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Khartis Documentation
              </span>
              <span class="md-header-nav__topic">
                Add a basemap
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Taper pour démarrer la recherche
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/AtelierCartographie/Khartis/" title="Aller au dépôt" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      AtelierCartographie/Khartis
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="http://www.sciencespo.fr/cartographie/khartis/docs" title="Khartis Documentation" class="md-nav__button md-logo">
      
        <img src="../assets/Khartis-logo.svg" width="48" height="48">
      
    </a>
    Khartis Documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/AtelierCartographie/Khartis/" title="Aller au dépôt" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      AtelierCartographie/Khartis
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Accueil" class="md-nav__link">
      Accueil
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Tutoriels
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Tutoriels
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../premiers-pas-avec-Khartis-(1)/" title="Premiers pas avec Khartis (1)" class="md-nav__link">
      Premiers pas avec Khartis (1)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../premiers-pas-avec-Khartis-(2)/" title="Premiers pas avec Khartis (2)" class="md-nav__link">
      Premiers pas avec Khartis (2)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Visualisations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Visualisations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../liste-des-visualisations/" title="Liste des visualisations" class="md-nav__link">
      Liste des visualisations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../symboles-proportionnels/" title="Symboles proportionnels" class="md-nav__link">
      Symboles proportionnels
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../couleurs-ordonnees/" title="Couleurs ordonnées" class="md-nav__link">
      Couleurs ordonnées
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../symboles-ordonnes/" title="Symboles ordonnées" class="md-nav__link">
      Symboles ordonnées
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../symboles-differents/" title="Symboles différents" class="md-nav__link">
      Symboles différents
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../couleurs-differentes/" title="Couleurs différentes" class="md-nav__link">
      Couleurs différentes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../symboles-proportionnels-colores-ordre/" title="Symboles proportionnels colorés (ordre)" class="md-nav__link">
      Symboles proportionnels colorés (ordre)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../symboles-proportionnels-colores-difference/" title="Symboles proportionnels colorés (différence)" class="md-nav__link">
      Symboles proportionnels colorés (différence)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../double-symboles-proportionnels/" title="Double symboles proportionnels" class="md-nav__link">
      Double symboles proportionnels
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Ressources
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Ressources
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../importer-des-donnees/" title="Importer des données" class="md-nav__link">
      Importer des données
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../les-fonds-de-carte-disponibles/" title="Les fonds de carte disponibles" class="md-nav__link">
      Les fonds de carte disponibles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../les-projections-disponibles/" title="Les projections disponibles" class="md-nav__link">
      Les projections disponibles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../les-sources-des-exemples-a-disposition/" title="Les sources des exemples à disposition" class="md-nav__link">
      Les sources des exemples à disposition
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../discretisation/" title="Discrétisation" class="md-nav__link">
      Discrétisation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../contraste/" title="Le contraste" class="md-nav__link">
      Le contraste
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../FAQ/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../definitions/" title="Définitions" class="md-nav__link">
      Définitions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../changelog/" title="Historique des versions" class="md-nav__link">
      Historique des versions
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked>
    
    <label class="md-nav__link" for="nav-7">
      Contribute
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Contribute
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Add a basemap
      </label>
    
    <a href="./" title="Add a basemap" class="md-nav__link md-nav__link--active">
      Add a basemap
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table des matières</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tools-suggested" title="Tools suggested" class="md-nav__link">
    Tools suggested
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#geometry" title="Geometry" class="md-nav__link">
    Geometry
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#poly" title="poly" class="md-nav__link">
    poly
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#centroid" title="centroid" class="md-nav__link">
    centroid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#line" title="line" class="md-nav__link">
    line
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geojson-to-topojson" title="geojson to topojson" class="md-nav__link">
    geojson to topojson
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#composite-projection" title="composite projection ?" class="md-nav__link">
    composite projection ?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dictionary" title="dictionary" class="md-nav__link">
    dictionary
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#config-file-settings-and-projection" title="config file (settings and projection)" class="md-nav__link">
    config file (settings and projection)
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table des matières</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tools-suggested" title="Tools suggested" class="md-nav__link">
    Tools suggested
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#geometry" title="Geometry" class="md-nav__link">
    Geometry
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#poly" title="poly" class="md-nav__link">
    poly
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#centroid" title="centroid" class="md-nav__link">
    centroid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#line" title="line" class="md-nav__link">
    line
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geojson-to-topojson" title="geojson to topojson" class="md-nav__link">
    geojson to topojson
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#composite-projection" title="composite projection ?" class="md-nav__link">
    composite projection ?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dictionary" title="dictionary" class="md-nav__link">
    dictionary
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#config-file-settings-and-projection" title="config file (settings and projection)" class="md-nav__link">
    config file (settings and projection)
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/AtelierCartographie/Khartis/edit/master/docs/how-to-create-a-basemap-for-Khartis.md" title="Editer cette page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Add a basemap</h1>
                
                <p>At the end, in order to work properly in Khartis, a basemap involve three type of files: a topojson for geometry, a json for dictionary and a js for config (parameters and projection).</p>
<h2 id="tools-suggested">Tools suggested</h2>
<p><a href="http://mapshaper.org/">Mapshaper</a>, <a href="https://github.com/topojson/topojson-server/blob/master/README.md#geo2topo">TopoJSON cli: geo2topo</a>, <a href="http://www.qgis.org/fr/site/">QGIS</a></p>
<h2 id="geometry">Geometry</h2>
<p>All the geometry needed are combine in one topojson. We call it layers and five types can be recognize, three are essentials (<code>centroid</code>, <code>line</code> and <code>poly</code>), two are optionals (<code>line-up</code> and <code>poly-down</code>).</p>
<table>
<thead>
<tr>
<th>Layer name</th>
<th>Required</th>
<th>Geometry type</th>
<th>Properties ?</th>
<th>Properties name</th>
<th>remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td>centroid</td>
<td>yes</td>
<td>point</td>
<td>yes</td>
<td>ID</td>
<td>standard identifier</td>
</tr>
<tr>
<td>line-up</td>
<td>no</td>
<td>line</td>
<td>possible</td>
<td>featurecla: "Disputed"</td>
<td>= dash line for disputed borders</td>
</tr>
<tr>
<td>line</td>
<td>yes</td>
<td>line</td>
<td>posible</td>
<td>featurecla: "Disputed"</td>
<td>= dash line for disputed borders</td>
</tr>
<tr>
<td>poly</td>
<td>yes</td>
<td>polygon</td>
<td>yes</td>
<td>ID</td>
<td>standard identifier</td>
</tr>
<tr>
<td>poly-down</td>
<td>no</td>
<td>polygon</td>
<td>no</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="poly">poly</h3>
<p>This is the core layer of basemap, the other layers required can be derived from it. Each polygon as an ID who is a standard identifier (from National Geographic Institution or ISO code). Key idea is to have a result as light as possible: only keep essential properties and simplify geometry.</p>
<p>Steps and transformation process in mapshaper:</p>
<ul>
<li>Check if you have all your polygon with properties (with QGIS or mapshaper) and if the projection is <code>WGS84</code>. Because reprojection are done on the fly in Khartis, all basemaps need to be in <code>WGS84</code>.</li>
<li>Rename the main identifier as <code>ID</code>. With online console: <code>rename-fields ID=OLD-ID-NAME</code></li>
<li>Keep only the <code>ID</code> property. <code>filter-fields ID</code></li>
<li>Rename layer to <code>poly</code>. <code>rename-layers poly</code></li>
<li>If needed, simplify geometry with one of the three method available. Be Careful of smalls polygons with a unique ID who can disappear. The idea is to keep the general aspect of each polygon while reducing a lot the points.</li>
<li>Export layer in geojson with mapshaper.</li>
</ul>
<h3 id="centroid">centroid</h3>
<ul>
<li>Import in mapshaper your <code>poly</code> layer in geojson format.</li>
<li>Create <code>centroid</code> layer with command-line: <code>points centroid</code>. Don't worry with properties, they are keep from polygons to points. Be Careful, automatic calculation of centroid is not always the best positioning (e.g. point outside polygon). If so, export layer and edit it in QGIS to fix position.</li>
<li>Rename layer to <code>centroid</code>. <code>rename-layers centroid</code></li>
<li>Export layer in geojson with mapshaper.</li>
</ul>
<h3 id="line">line</h3>
<ul>
<li>Import again in mapshaper your <code>poly</code> layer in geojson format.</li>
<li>Create shared boundaries between polygons. <code>innerlines</code></li>
<li>Rename layer to <code>line</code>. <code>rename-layers line</code></li>
<li>Export layer in geojson with mapshaper.</li>
<li>(If you need dash lines (e.g. disputed border), you will need an extra step in QGIS to create a new field in attribute data name <code>featurecla</code> and add value <code>Disputed</code> when it will be dashed.)</li>
</ul>
<h3 id="geojson-to-topojson">geojson to topojson</h3>
<p>Now that you have the three layers required in geojson format, you have to combine them in a unique topojson file that will reduce size of file.</p>
<p>In older version of topojson: <br />
<code>topojson -o [basemap-name].json -p -- centroid.json line.json poly.json</code></p>
<p>In the new topojson: <br />
<code>geo2topo -q 1e4 centroid.json line-up.json line.json poly-down.json poly.json &gt; [basemap-name].json</code></p>
<h3 id="composite-projection">composite projection ?</h3>
<p>If you need a <a href="https://bl.ocks.org/mbostock/5545680">composite projection</a> to bring closer polygons geographically distant, each part have to be in a separate topojson file, e.g. Alaska, Hawaii, Puerto-Rico, main USA part.</p>
<h2 id="dictionary">dictionary</h2>
<p>Most of the time there is alternative name or code of an official administrative area. Khartis takes account of these possibilities to ensure a more transparent user experience. For a complete explanation of what a basemap dicionary is, see <a href="definitions#dictionnaire-dun-fond-de-carte">dictionnaire d'un fond de carte</a> (<em>in french</em>).</p>
<p>Dictionary specification is simple. It's a json file, each object refer to a polygon and the first key is the standard identifier use in the geometry. All other key are optional and are here to better match user data.</p>
<p>Example of France by department dictionary:</p>
<pre><code>[
    {
        "ID": "FR101",
        "Insee": "75",
        "ISO 3166-2": "FR-75",
        "Name": "Paris"
    },
    {
        "ID": "FR102",
        "Insee": "77",
        "ISO 3166-2": "FR-77",
        "Name": "Seine-et-Marne"
    },
        ...
]
</code></pre>
<h2 id="config-file-settings-and-projection">config file (settings and projection)</h2>
<p>The last step is to complete the config file with settings of the new basemap. Which are: <code>id</code> an id basemap for translation, <code>sources</code> file directory of the topojson + d3 (v4) projection settings, <code>dictionary</code> file directory of the json, <code>examples</code> (optional) sample data for users.</p>
<p>Example of Brazil states basemap config:</p>
<pre><code>{
    id: "brazil ufe 2015",
    sources: [
      {source: "BR-ufe-2015.json", projection: "d3.geoPolyconic()", transforms:{rotate: [54, 0]}, scale: 1, zoning: [[0, 0], [1, 1]]}
    ],
    dictionary: {
      source: "BR-dico-UFE-2015.json",
      identifier: "ID"
    },
    examples: [
      {
        id: "br_ufe-pop",
        source: "br-ufe-pop-2010.csv"
      },
    ]
  }
</code></pre>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../changelog/" title="Historique des versions" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Précédent
                </span>
                Historique des versions
              </span>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Creative Commons CC BY NC ND
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.583bbe55.js"></script>
      
        
        
          
          <script src="../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              
                <script src="../assets/javascripts/lunr/lunr.fr.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
        <script src="../extra.js"></script>
      
    
    
      
        <script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-78393617-2","Khartis"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");if(Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var a=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",a,e.href)})}),document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}</script>
      
    
  </body>
</html>